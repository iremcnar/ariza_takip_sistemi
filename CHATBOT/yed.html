<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI DonanÄ±m Destek Chatbot</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .chat-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 900px;
            height: 700px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .chat-header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .chat-header p {
            opacity: 0.9;
            font-size: 14px;
        }

        .ai-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .ai-pulse {
            width: 8px;
            height: 8px;
            background: #00ff88;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        .settings-panel {
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            gap: 15px;
            align-items: center;
            font-size: 14px;
        }

        .api-selector {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .api-selector select {
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: white;
        }

        .api-key-input {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .api-key-input input {
            flex: 1;
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 12px;
        }

        .status-indicator {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }

        .status-ready { background: #d4edda; color: #155724; }
        .status-error { background: #f8d7da; color: #721c24; }
        .status-loading { background: #fff3cd; color: #856404; }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            justify-content: flex-end;
        }

        .message.bot {
            justify-content: flex-start;
        }

        .message-content {
            max-width: 75%;
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
            line-height: 1.5;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message.bot .message-content {
            background: white;
            color: #333;
            border: 1px solid #e0e0e0;
            border-bottom-left-radius: 4px;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 14px;
        }

        .user-avatar {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .bot-avatar {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            animation: botPulse 3s infinite;
        }

        @keyframes botPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .chat-input {
            padding: 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
        }

        .input-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s;
        }

        .chat-input input:focus {
            border-color: #667eea;
        }

        .send-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.2s;
        }

        .send-btn:hover:not(:disabled) {
            transform: scale(1.05);
        }

        .send-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: none;
            align-items: center;
            gap: 5px;
            color: #666;
            font-style: italic;
            margin-left: 50px;
        }

        .typing-dots {
            display: flex;
            gap: 3px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: #667eea;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .suggestion-btn {
            background: #f0f0f0;
            border: 1px solid #ddd;
            padding: 8px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .suggestion-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .welcome-message {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }

        .welcome-message h2 {
            margin-bottom: 10px;
            color: #667eea;
        }

        .model-info {
            background: rgba(102, 126, 234, 0.1);
            padding: 10px;
            border-radius: 10px;
            margin-top: 10px;
            font-size: 12px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <div class="ai-indicator">
                <div class="ai-pulse"></div>
                AI Powered
            </div>
            <h1>ğŸ¤– AI DonanÄ±m Destek Chatbot</h1>
            <p>GeliÅŸmiÅŸ yapay zeka ile donanÄ±m sorunlarÄ±nÄ±zÄ± Ã§Ã¶zÃ¼n!</p>
        </div>

        <div class="settings-panel">
            <div class="api-selector">
                <label>AI Model:</label>
                <select id="aiModel" onchange="updateAIModel()">
                    <option value="groq">âš¡ Groq (Ã–nerilen - HÄ±zlÄ±)</option>
                    <option value="openai">ğŸ§  OpenAI GPT</option>
                    <option value="cohere">ğŸ”® Cohere</option>
                    <option value="local">ğŸ’» Yerel AkÄ±llÄ± Mod</option>
                </select>
            </div>
            <div class="api-key-input">
                <input type="password" id="apiKey" placeholder="API AnahtarÄ± girin (Ã¼cretsiz hesap aÃ§abilirsiniz)" />
                <button onclick="testConnection()" style="padding: 5px 10px; border: 1px solid #ddd; border-radius: 5px; background: white; cursor: pointer;">Test</button>
            </div>
            <div class="status-indicator" id="status">HazÄ±r</div>
        </div>

        <div class="chat-messages" id="chatMessages">
            <div class="welcome-message">
                <h2>Merhaba! ğŸ¤–</h2>
                <p>Ben geliÅŸmiÅŸ AI donanÄ±m destek chatbotuyum.<br>
                Herhangi bir donanÄ±m sorununu detaylÄ± analiz edip size Ã¶zel Ã§Ã¶zÃ¼mler sunabilirim.</p>
                <div class="model-info">
                    <strong>Aktif Model:</strong> <span id="currentModel">Groq - Llama3 (Ã–nerilen)</span><br>
                    <strong>Ã–zellikler:</strong> GerÃ§ek zamanlÄ± AI analizi, BaÄŸlamsal anlama, TÃ¼rkÃ§e dil desteÄŸi<br>
                    <strong>Not:</strong> API anahtarÄ± iÃ§in groq.com'dan Ã¼cretsiz hesap aÃ§abilirsiniz
                </div>
            </div>
        </div>

        <div class="typing-indicator" id="typingIndicator">
            <span>AI dÃ¼ÅŸÃ¼nÃ¼yor</span>
            <div class="typing-dots">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>

        <div class="chat-input">
            <div class="input-container">
                <input type="text" id="messageInput" placeholder="DonanÄ±m sorununuzu detaylÄ± olarak anlatÄ±n..." maxlength="1000">
                <button class="send-btn" id="sendBtn" onclick="sendMessage()">GÃ¶nder</button>
            </div>
            <div class="suggestions">
                <div class="suggestion-btn" onclick="sendSuggestion('BilgisayarÄ±m aÃ§Ä±lmÄ±yor, ne yapmalÄ±yÄ±m?')">PC aÃ§Ä±lmÄ±yor</div>
                <div class="suggestion-btn" onclick="sendSuggestion('MouseÄ±m hareket etmiyor ve tÄ±klama yapmÄ±yor')">Mouse sorunu</div>
                <div class="suggestion-btn" onclick="sendSuggestion('YazÄ±cÄ±mdan Ã§Ä±ktÄ± alamÄ±yorum, nasÄ±l Ã§Ã¶zerim?')">YazÄ±cÄ± sorunu</div>
                <div class="suggestion-btn" onclick="sendSuggestion('MonitÃ¶rÃ¼m siyah ekran gÃ¶steriyor')">MonitÃ¶r sorunu</div>
                <div class="suggestion-btn" onclick="sendSuggestion('Ä°nternet baÄŸlantÄ±m Ã§ok yavaÅŸ')">Ä°nternet sorunu</div>
            </div>
        </div>
    </div>

    <script>
        let currentAIModel = 'groq';
        let apiKey = 'GROK_API';
        let conversationHistory = [];

        const AI_CONFIGS = {
            groq: {
                name: 'Groq - Llama3-8B (Ã–nerilen)',
                endpoint: 'https://api.groq.com/openai/v1/chat/completions',
                model: 'llama3-8b-8192',
                requiresKey: true,
                description: 'Ã‡ok hÄ±zlÄ± ve gÃ¼Ã§lÃ¼ AI - Ãœcretsiz hesap mevcut'
            },
            openai: {
                name: 'OpenAI GPT-3.5 Turbo',
                endpoint: 'https://api.openai.com/v1/chat/completions',
                model: 'gpt-3.5-turbo',
                requiresKey: true,
                description: 'GÃ¼Ã§lÃ¼ ve gÃ¼venilir AI modeli'
            },
            cohere: {
                name: 'Cohere Command',
                endpoint: 'https://api.cohere.ai/v1/chat',
                model: 'command',
                requiresKey: true,
                description: 'Ãœcretsiz API limiti olan AI'
            },
            local: {
                name: 'Yerel AkÄ±llÄ± Mod',
                endpoint: null,
                requiresKey: false,
                description: 'API gerektirmeyen geliÅŸmiÅŸ yerel Ã§Ã¶zÃ¼mler'
            }
        };

        // GeliÅŸmiÅŸ donanÄ±m bilgi veritabanÄ±
        const HARDWARE_CONTEXT = `Sen uzman bir donanÄ±m teknisyenisin. KullanÄ±cÄ±lara TÃ¼rkÃ§e, aÃ§Ä±k ve anlaÅŸÄ±lÄ±r ÅŸekilde yardÄ±m et.

UZMANLIK ALANLARIN:
â€¢ Bilgisayar sorunlarÄ± (aÃ§Ä±lmama, performans, mavi ekran)
â€¢ Ã‡evre birimleri (mouse, klavye, yazÄ±cÄ±, monitÃ¶r)
â€¢ AÄŸ sorunlarÄ± (internet, WiFi, modem)
â€¢ Laptop sorunlarÄ± (batarya, Ä±sÄ±nma, ekran)
â€¢ Ses sorunlarÄ± (hoparlÃ¶r, mikrofon)
â€¢ Oyun sorunlarÄ± (grafik kartÄ±, FPS)

Her soru iÃ§in:
1. Ã–nce basit Ã§Ã¶zÃ¼mler Ã¶ner
2. AdÄ±m adÄ±m net talimatlar ver
3. Teknik terimleri aÃ§Ä±kla
4. GÃ¼venlik uyarÄ±larÄ± yap
5. Alternatif Ã§Ã¶zÃ¼mler sun
6. Gerekirse uzman yardÄ±mÄ± Ã¶ner

YanÄ±tlarÄ±n kÄ±sa, Ã¶z ve uygulanabilir olsun. Emoji kullan ama abartma.`;

        // Ã‡ok geliÅŸmiÅŸ yerel akÄ±llÄ± yanÄ±t sistemi
        const SMART_RESPONSES = {
            // Bilgisayar sorunlarÄ±
            'aÃ§Ä±lmÄ±yor|boot|baÅŸlatamÄ±yorum|aÃ§amÄ±yorum': {
                response: `ğŸ”§ **Bilgisayar AÃ§Ä±lma Sorunu Ã‡Ã¶zÃ¼mleri:**

**HÄ±zlÄ± Ã‡Ã¶zÃ¼mler:**
1. âš¡ GÃ¼Ã§ kablosu ve prize baÄŸlantÄ±yÄ± kontrol edin
2. ğŸ”‹ Power dÃ¼ÄŸmesine 10 saniye basÄ±lÄ± tutun (hard reset)
3. ğŸ”Œ TÃ¼m kablolarÄ± Ã§Ä±karÄ±p tekrar takÄ±n

**DetaylÄ± AdÄ±mlar:**
4. ğŸ’¾ RAM modÃ¼llerini Ã§Ä±karÄ±p temizleyip tekrar takÄ±n
5. ğŸ® Ekran kartÄ±nÄ± yeniden yerleÅŸtirin
6. ğŸ”‹ CMOS pilini Ã§Ä±karÄ±p 30 saniye bekleyin
7. ğŸ’¡ Tek RAM ile test edin
8. ğŸ”§ GÃ¼Ã§ kaynaÄŸÄ±nÄ± farklÄ± cihazla test edin

**OlasÄ± Nedenler:** GÃ¼Ã§ kaynaÄŸÄ± arÄ±zasÄ±, RAM sorunu, anakart problemi

Hangi adÄ±mÄ± denediÄŸinizde ne olduÄŸunu bana sÃ¶yleyin! ğŸ¤–`,
                keywords: ['aÃ§Ä±lmÄ±yor', 'boot', 'baÅŸlatamÄ±yorum', 'aÃ§amÄ±yorum', 'power', 'gÃ¼Ã§']
            },

            'mouse|fare': {
                response: `ğŸ–±ï¸ **Mouse Sorunu Ã‡Ã¶zÃ¼mleri:**

**Kablolu Mouse:**
1. ğŸ”Œ USB portunu deÄŸiÅŸtirin
2. ğŸ§¹ Mouse altÄ±nÄ± ve sensÃ¶rÃ¼ temizleyin
3. ğŸ–±ï¸ FarklÄ± yÃ¼zeyde test edin (mouse pad)
4. ğŸ’» Cihaz YÃ¶neticisi'nden sÃ¼rÃ¼cÃ¼yÃ¼ gÃ¼ncelleyin

**Kablosuz Mouse:**
1. ğŸ”‹ Pilin doluluk durumunu kontrol edin
2. ğŸ“¡ USB alÄ±cÄ±sÄ±nÄ± farklÄ± porta takÄ±n
3. ğŸ”„ Mouse'u yeniden eÅŸleÅŸtirin
4. ğŸ“¶ YakÄ±ndaki diÄŸer cihazlarÄ± kapatÄ±n

**Test YÃ¶ntemleri:**
â€¢ FarklÄ± bilgisayarda deneyin
â€¢ BaÅŸka mouse ile test edin
â€¢ Safe Mode'da Ã§alÄ±ÅŸÄ±yor mu kontrol edin

Hangi tÃ¼r mouse kullanÄ±yorsunuz? Problem nasÄ±l baÅŸladÄ±? ğŸ¤–`,
                keywords: ['mouse', 'fare', 'tÄ±klama', 'hareket', 'cursor']
            },

            'yazÄ±cÄ±|printer': {
                response: `ğŸ–¨ï¸ **YazÄ±cÄ± Sorunu Ã‡Ã¶zÃ¼mleri:**

**Temel Kontroller:**
1. âš¡ GÃ¼Ã§ ve USB baÄŸlantÄ±larÄ±nÄ± kontrol edin
2. ğŸ“„ KaÄŸÄ±t sÄ±kÄ±ÅŸmasÄ± var mÄ± bakÄ±n
3. ğŸ¨ MÃ¼rekkep/toner seviyesini kontrol edin
4. ğŸ’¡ YazÄ±cÄ±nÄ±n hata lambalarÄ± yanÄ±yor mu bakÄ±n

**YazÄ±lÄ±m Ã‡Ã¶zÃ¼mleri:**
5. ğŸ–¨ï¸ Print Spooler servisini yeniden baÅŸlatÄ±n
6. ğŸ“ YazÄ±cÄ± kuyruÄŸunu temizleyin
7. ğŸ”„ SÃ¼rÃ¼cÃ¼yÃ¼ kaldÄ±rÄ±p yeniden yÃ¼kleyin
8. ğŸ”§ YazÄ±cÄ± troubleshooter Ã§alÄ±ÅŸtÄ±rÄ±n

**Test YazdÄ±rma:**
â€¢ YazÄ±cÄ±nÄ±n kendi test sayfasÄ±nÄ± yazdÄ±rÄ±n
â€¢ FarklÄ± programdan yazdÄ±rmayÄ± deneyin
â€¢ PDF olarak kaydetmeyi test edin

Hangi marka yazÄ±cÄ±? Hata mesajÄ± var mÄ±? ğŸ¤–`,
                keywords: ['yazÄ±cÄ±', 'printer', 'yazdÄ±r', 'kaÄŸÄ±t', 'mÃ¼rekkep', 'toner']
            },

            'monitÃ¶r|ekran': {
                response: `ğŸ–¥ï¸ **MonitÃ¶r/Ekran Sorunu Ã‡Ã¶zÃ¼mleri:**

**Temel Kontroller:**
1. âš¡ MonitÃ¶rÃ¼n gÃ¼Ã§ kablosu takÄ±lÄ± mÄ±?
2. ğŸ’¡ Power LED'i yanÄ±yor mu kontrol edin
3. ğŸ“º Video kablosunu (HDMI/VGA/DVI) kontrol edin
4. ğŸ”„ Kabloyu Ã§Ä±karÄ±p tekrar takÄ±n

**GeliÅŸmiÅŸ Ã‡Ã¶zÃ¼mler:**
5. ğŸ“± FarklÄ± kablo ile test edin
6. ğŸ–¥ï¸ BaÅŸka monitÃ¶r/TV ile test edin
7. ğŸ® FarklÄ± video Ã§Ä±kÄ±ÅŸÄ± deneyin (onboard vs GPU)
8. ğŸ’» BilgisayarÄ± gÃ¼venli modda baÅŸlatÄ±n

**SÄ±k Problemler:**
â€¢ Siyah ekran: Video kartÄ± veya kablo sorunu
â€¢ Ã‡izgiler: Panel arÄ±zasÄ± olabilir
â€¢ Titreme: Frekans uyumsuzluÄŸu

MonitÃ¶r hiÃ§ aÃ§Ä±lÄ±yor mu? Hangi kablo kullanÄ±yorsunuz? ğŸ¤–`,
                keywords: ['monitÃ¶r', 'ekran', 'gÃ¶rÃ¼ntÃ¼', 'siyah', 'Ã§izgi', 'display']
            },

            'internet|aÄŸ|wifi': {
                response: `ğŸŒ **Ä°nternet BaÄŸlantÄ± Sorunu Ã‡Ã¶zÃ¼mleri:**

**HÄ±zlÄ± Ã‡Ã¶zÃ¼mler:**
1. ğŸ“¶ Modem/router'Ä± 30 saniye kapatÄ±p aÃ§Ä±n
2. ğŸ”Œ Ethernet kablosunu kontrol edin
3. ğŸ“± WiFi ÅŸifresini yeniden girin
4. âœˆï¸ Airplane mode'u aÃ§Ä±p kapatÄ±n

**DetaylÄ± Testler:**
5. ğŸŒ FarklÄ± cihazla (telefon) test edin
6. âš™ï¸ IP config /release ve /renew yapÄ±n
7. ğŸ”§ DNS ayarlarÄ±nÄ± deÄŸiÅŸtirin (8.8.8.8)
8. ğŸ›¡ï¸ Firewall'u geÃ§ici kapatÄ±n

**HÄ±z SorunlarÄ±:**
â€¢ Speedtest.net ile hÄ±z Ã¶lÃ§Ã¼n
â€¢ QoS ayarlarÄ±nÄ± kontrol edin
â€¢ YakÄ±ndaki WiFi aÄŸlarÄ±nÄ± tarayÄ±n
â€¢ ISS ile iletiÅŸime geÃ§in

Hangi cihazda sorun? Ä°nternet hiÃ§ baÄŸlanmÄ±yor mu yoksa yavaÅŸ mÄ±? ğŸ¤–`,
                keywords: ['internet', 'aÄŸ', 'wifi', 'baÄŸlantÄ±', 'modem', 'router', 'yavaÅŸ']
            },

            'laptop|dizÃ¼stÃ¼': {
                response: `ğŸ’» **Laptop Sorunu Ã‡Ã¶zÃ¼mleri:**

**GÃ¼Ã§/Åarj SorunlarÄ±:**
1. ğŸ”‹ Åarj aleti Ã§alÄ±ÅŸÄ±yor mu kontrol edin
2. ğŸ”Œ Åarj portunu temizleyin
3. ğŸ”‹ BataryayÄ± Ã§Ä±karÄ±p gÃ¼Ã§ tuÅŸuna 15sn basÄ±n
4. âš¡ FarklÄ± ÅŸarj cihazÄ± deneyin

**Performans SorunlarÄ±:**
5. ğŸŒ¡ï¸ Laptop aÅŸÄ±rÄ± Ä±sÄ±nÄ±yor mu kontrol edin
6. ğŸ§¹ Fan ve havalandÄ±rma deliklerini temizleyin
7. ğŸ’¾ Disk temizliÄŸi yapÄ±n
8. ğŸ”„ Gereksiz programlarÄ± kaldÄ±rÄ±n

**Ekran SorunlarÄ±:**
â€¢ ParlaklÄ±k ayarlarÄ±nÄ± kontrol edin
â€¢ Harici monitÃ¶r ile test edin
â€¢ Display driver gÃ¼ncelleyin

Model ve yaÅŸ nedir? Hangi sorunla karÅŸÄ±laÅŸÄ±yorsunuz? ğŸ¤–`,
                keywords: ['laptop', 'dizÃ¼stÃ¼', 'ÅŸarj', 'batarya', 'Ä±sÄ±nma', 'fan']
            },

            'ses|audio|hoparlÃ¶r': {
                response: `ğŸ”Š **Ses Sorunu Ã‡Ã¶zÃ¼mleri:**

**Temel Kontroller:**
1. ğŸ”‡ Ses kapalÄ± deÄŸil mi kontrol edin
2. ğŸ“¢ Sistem ses seviyesini kontrol edin
3. ğŸµ Ses cihazÄ±nÄ±n seÃ§ili olduÄŸunu kontrol edin
4. ğŸ”Œ KulaklÄ±k/hoparlÃ¶r baÄŸlantÄ±sÄ±nÄ± kontrol edin

**GeliÅŸmiÅŸ Ã‡Ã¶zÃ¼mler:**
5. ğŸ›ï¸ Ses kartÄ± sÃ¼rÃ¼cÃ¼sÃ¼nÃ¼ gÃ¼ncelleyin
6. ğŸ”§ Audio troubleshooter Ã§alÄ±ÅŸtÄ±rÄ±n
7. âš™ï¸ Audio servislerini yeniden baÅŸlatÄ±n
8. ğŸ¯ FarklÄ± ses formatÄ± deneyin

**Test YÃ¶ntemleri:**
â€¢ FarklÄ± uygulama ile test edin
â€¢ KulaklÄ±k ile test edin
â€¢ Ses kontrol panelinde test yapÄ±n

HiÃ§ ses Ã§Ä±kmÄ±yor mu yoksa kesik kesik mi? Hangi cihaz? ğŸ¤–`,
                keywords: ['ses', 'audio', 'hoparlÃ¶r', 'kulaklÄ±k', 'mikrofon', 'sound']
            },

            'yavaÅŸ|performans|donma': {
                response: `âš¡ **Bilgisayar YavaÅŸlÄ±ÄŸÄ± Ã‡Ã¶zÃ¼mleri:**

**HÄ±zlÄ± Ã‡Ã¶zÃ¼mler:**
1. ğŸ”„ BilgisayarÄ± yeniden baÅŸlatÄ±n
2. ğŸ“Š Task Manager'da CPU kullanÄ±mÄ±nÄ± kontrol edin
3. ğŸ’¾ Disk temizliÄŸi yapÄ±n
4. ğŸ§¹ Temp dosyalarÄ±nÄ± silin

**DetaylÄ± Optimizasyonlar:**
5. ğŸš€ BaÅŸlangÄ±Ã§ programlarÄ±nÄ± azaltÄ±n
6. ğŸ›¡ï¸ VirÃ¼s taramasÄ± yapÄ±n
7. ğŸ’½ Disk defragmentasyonu yapÄ±n (HDD ise)
8. ğŸ”§ Sistem dosyalarÄ±nÄ± onarÄ±n (sfc /scannow)

**DonanÄ±m KontrolÃ¼:**
â€¢ RAM kullanÄ±mÄ± yÃ¼ksek mi?
â€¢ Disk doluluk oranÄ± %90'Ä±n Ã¼zerinde mi?
â€¢ CPU sÄ±caklÄ±ÄŸÄ± normal mi?

Ne kadar sÃ¼redir yavaÅŸ? Hangi programlarda daha belirgin? ğŸ¤–`,
                keywords: ['yavaÅŸ', 'performans', 'donma', 'kasma', 'lag', 'feel']
            }
        };

        function updateAIModel() {
            const select = document.getElementById('aiModel');
            currentAIModel = select.value;
            
            const config = AI_CONFIGS[currentAIModel];
            document.getElementById('currentModel').textContent = config.name;
            
            // API key alanÄ±nÄ± gÃ¶ster/gizle
            const apiKeyInput = document.getElementById('apiKey');
            const parentDiv = apiKeyInput.closest('.api-key-input');
            parentDiv.style.display = config.requiresKey ? 'flex' : 'none';
            
            updateStatus('ready', 'Model deÄŸiÅŸtirildi');
        }

        function updateStatus(type, message) {
            const statusEl = document.getElementById('status');
            statusEl.className = `status-indicator status-${type}`;
            statusEl.textContent = message;
        }

        async function testConnection() {
            if (currentAIModel === 'local') {
                updateStatus('ready', 'Yerel mod aktif âœ“');
                return;
            }

            updateStatus('loading', 'Test ediliyor...');
            
            try {
                const response = await callAI("Test", true);
                if (response && response.length > 5) {
                    updateStatus('ready', 'BaÄŸlantÄ± baÅŸarÄ±lÄ± âœ“');
                } else {
                    updateStatus('error', 'BaÄŸlantÄ± baÅŸarÄ±sÄ±z');
                }
            } catch (error) {
                updateStatus('error', 'Hata: ' + error.message);
            }
        }

        async function callAI(message, isTest = false) {
            if (currentAIModel === 'local') {
                return await callSmartLocal(message);
            }

            const config = AI_CONFIGS[currentAIModel];
            apiKey = document.getElementById('apiKey').value.trim();

            if (!apiKey) {
                throw new Error('API anahtarÄ± gerekli');
            }

            try {
                switch (currentAIModel) {
                    case 'groq':
                        return await callGroq(message, isTest);
                    case 'openai':
                        return await callOpenAI(message, isTest);
                    case 'cohere':
                        return await callCohere(message, isTest);
                    default:
                        return await callSmartLocal(message);
                }
            } catch (error) {
                console.error('AI API hatasÄ±:', error);
                // API baÅŸarÄ±sÄ±z olursa yerel moda geÃ§
                updateStatus('error', 'API hatasÄ± - Yerel moda geÃ§iliyor');
                return await callSmartLocal(message);
            }
        }

        async function callGroq(message, isTest) {
            const messages = [
                { role: 'system', content: HARDWARE_CONTEXT },
                ...conversationHistory.slice(-8),
                { role: 'user', content: message }
            ];

            const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${apiKey}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    model: 'llama3-8b-8192',
                    messages: messages,
                    max_tokens: 800,
                    temperature: 0.7,
                    top_p: 1,
                    stream: false
                })
            });

            if (!response.ok) {
                const errorData = await response.json().catch(() => ({}));
                throw new Error(`Groq API Error: ${response.status} - ${errorData.error?.message || 'Unknown error'}`);
            }

            const data = await response.json();
            return data.choices[0].message.content;
        }

        async function callOpenAI(message, isTest) {
            const messages = [
                { role: 'system', content: HARDWARE_CONTEXT },
                ...conversationHistory.slice(-8),
                { role: 'user', content: message }
            ];

            const response = await fetch('https://api.openai.com/v1/chat/completions', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${apiKey}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    model: 'gpt-3.5-turbo',
                    messages: messages,
                    max_tokens: 800,
                    temperature: 0.7
                })
            });

            if (!response.ok) {
                const errorData = await response.json().catch(() => ({}));
                throw new Error(`OpenAI API Error: ${response.status} - ${errorData.error?.message || 'Unknown error'}`);
            }

            const data = await response.json();
            return data.choices[0].message.content;
        }

        async function callCohere(message, isTest) {
            const chatHistory = conversationHistory.slice(-6).map(msg => ({
                role: msg.role === 'assistant' ? 'CHATBOT' : 'USER',
                message: msg.content
            }));

            const response = await fetch('https://api.cohere.ai/v1/chat', {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${apiKey}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    model: 'command',
                    message: `${HARDWARE_CONTEXT}\n\nKullanÄ±cÄ± sorusu: ${message}`,
                    chat_history: chatHistory,
                    max_tokens: 800,
                    temperature: 0.7
                })
            });

            if (!response.ok) {
                const errorData = await response.json().catch(() => ({}));
                throw new Error(`Cohere API Error: ${response.status} - ${errorData.message || 'Unknown error'}`);
            }

            const data = await response.json();
            return data.text;
        }

        // Ã‡ok geliÅŸmiÅŸ yerel akÄ±llÄ± sistem
        async function callSmartLocal(message) {
            const lowerMessage = message.toLowerCase();
            
            // Ã–nce doÄŸrudan eÅŸleÅŸme ara
            for (const [pattern, data] of Object.entries(SMART_RESPONSES)) {
                const keywords = pattern.split('|');
                if (keywords.some(keyword => lowerMessage.includes(keyword))) {
                    return data.response;
                }
            }

            // Benzer kelimeleri ara (fuzzy matching)
            let bestMatch = null;
            let bestScore = 0;

            for (const [pattern, data] of Object.entries(SMART_RESPONSES)) {
                const keywords = pattern.split('|');
                const score = keywords.reduce((acc, keyword) => {
                    return acc + (lowerMessage.includes(keyword.substring(0, 4)) ? 1 : 0);
                }, 0);
                
                if (score > bestScore) {
                    bestScore = score;
                    bestMatch = data;
                }
            }

            if (bestMatch && bestScore > 0) {
                return bestMatch.response;
            }

            // Genel sorun kategorilerini tespit et
            const categories = {
                'donanÄ±m': ['hardware', 'donanÄ±m', 'parÃ§a', 'component'],
                'yazÄ±lÄ±m': ['software', 'yazÄ±lÄ±m', 'program', 'uygulama'],
                'aÄŸ': ['network', 'aÄŸ', 'internet', 'wifi'],
                'performans': ['performance', 'performans', 'yavaÅŸ', 'hÄ±z']
            };

            for (const [category, keywords] of Object.entries(categories)) {
                if (keywords.some(keyword => lowerMessage.includes(keyword))) {
                    return getCategoryResponse(category, message);
                }
            }

            // HiÃ§bir eÅŸleÅŸme bulunamazsa genel yanÄ±t
            return `ğŸ¤– **DonanÄ±m Destek AsistanÄ±**

Sorununuzu daha iyi anlayabilmem iÃ§in lÃ¼tfen ÅŸunlarÄ± belirtin:

ğŸ”§ **Hangi cihaz/donanÄ±m:**
â€¢ Bilgisayar, laptop, yazÄ±cÄ±, mouse, klavye, monitÃ¶r?

â“ **Sorun nedir:**
â€¢ Ã‡alÄ±ÅŸmÄ±yor, yavaÅŸ, hata veriyor, baÄŸlanmÄ±yor?

ğŸ“… **Ne zaman baÅŸladÄ±:**
â€¢ Ani mi yoksa zamanlama ile mi kÃ¶tÃ¼leÅŸti?

âš™ï¸ **Denenen Ã§Ã¶zÃ¼mler:**
â€¢ Daha Ã¶nce ne denediniz?

Bu bilgilerle size Ã§ok daha detaylÄ± ve kiÅŸiselleÅŸtirilmiÅŸ Ã§Ã¶zÃ¼mler sunabilirim! 

**HÄ±zlÄ± baÅŸlangÄ±Ã§ iÃ§in Ã¶nerilerim:**
â€¢ Sol taraftaki hazÄ±r sorularÄ± kullanabilirsiniz
â€¢ "BilgisayarÄ±m aÃ§Ä±lmÄ±yor" gibi spesifik yazÄ±n
â€¢ API anahtarÄ± ile daha geliÅŸmiÅŸ AI yardÄ±mÄ± alabilirsiniz`;
        }

        function getCategoryResponse(category, originalMessage) {
            const responses = {
                'donanÄ±m': `ğŸ”§ **DonanÄ±m Sorunu Tespit Edildi**

Hangi donanÄ±m parÃ§asÄ±yla ilgili sorun yaÅŸÄ±yorsunuz?

**YaygÄ±n DonanÄ±m SorunlarÄ±:**
â€¢ ğŸ’» Bilgisayar/Laptop - AÃ§Ä±lmama, donma, Ä±sÄ±nma
â€¢ ğŸ–±ï¸ Mouse/Klavye - Ã‡alÄ±ÅŸmama, baÄŸlantÄ± sorunu  
â€¢ ğŸ–¨ï¸ YazÄ±cÄ± - YazdÄ±rmama, kaÄŸÄ±t sÄ±kÄ±ÅŸmasÄ±
â€¢ ğŸ–¥ï¸ MonitÃ¶r - GÃ¶rÃ¼ntÃ¼ vermeme, Ã§izgiler
â€¢ ğŸ”Š Ses - HoparlÃ¶r/mikrofon sorunlarÄ±

LÃ¼tfen hangi cihazla sorun yaÅŸadÄ±ÄŸÄ±nÄ±zÄ± belirtin, detaylÄ± Ã§Ã¶zÃ¼m sunayÄ±m!`,

                'yazÄ±lÄ±m': `ğŸ’» **YazÄ±lÄ±m Sorunu Tespit Edildi**

**Genel YazÄ±lÄ±m Ã‡Ã¶zÃ¼mleri:**
1. ğŸ”„ ProgramÄ± yeniden baÅŸlatÄ±n
2. ğŸ’¾ Windows Update kontrol edin  
3. ğŸ›¡ï¸ Antivirus taramasÄ± yapÄ±n
4. ğŸ”§ Program onarÄ±m aracÄ± Ã§alÄ±ÅŸtÄ±rÄ±n
5. ğŸ—‘ï¸ Temp dosyalarÄ± temizleyin

Hangi program veya iÅŸletim sistemi sorunu yaÅŸÄ±yorsunuz? Daha spesifik yardÄ±m iÃ§in detay verin!`,

                'aÄŸ': `ğŸŒ **AÄŸ/Ä°nternet Sorunu Tespit Edildi**

**HÄ±zlÄ± AÄŸ Ã‡Ã¶zÃ¼mleri:**
1. ğŸ“¶ Modem/router yeniden baÅŸlatÄ±n
2. ğŸ”Œ Kablo baÄŸlantÄ±larÄ±nÄ± kontrol edin
3. ğŸ“± FarklÄ± cihazla test edin
4. âš™ï¸ IP ayarlarÄ±nÄ± yenileyin
5. ğŸ›¡ï¸ Firewall ayarlarÄ±nÄ± kontrol edin

WiFi mi yoksa kablolu baÄŸlantÄ± mÄ±? Tamamen baÄŸlanamÄ±yor musunuz yoksa yavaÅŸ mÄ±?`,

                'performans': `âš¡ **Performans Sorunu Tespit Edildi**

**Performans Ä°yileÅŸtirme:**
1. ğŸ“Š Task Manager'da kaynak kullanÄ±mÄ±nÄ± kontrol edin
2. ğŸš€ BaÅŸlangÄ±Ã§ programlarÄ±nÄ± azaltÄ±n
3. ğŸ’¾ Disk temizliÄŸi yapÄ±n
4. ğŸ§¹ GeÃ§ici dosyalarÄ± silin
5. ğŸ”„ Sistemi yeniden baÅŸlatÄ±n

Hangi durumda yavaÅŸlÄ±k oluyor? Oyun, video, genel kullanÄ±m?`
            };

            return responses[category] || responses['donanÄ±m'];
        }

        function addMessage(content, isUser = false) {
            const chatMessages = document.getElementById('chatMessages');
            
            // Welcome mesajÄ±nÄ± kaldÄ±r
            const welcomeMsg = document.querySelector('.welcome-message');
            if (welcomeMsg) {
                welcomeMsg.remove();
            }
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
            
            const avatar = document.createElement('div');
            avatar.className = `avatar ${isUser ? 'user-avatar' : 'bot-avatar'}`;
            avatar.textContent = isUser ? 'Sen' : 'ğŸ¤–';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            
            if (isUser) {
                messageContent.textContent = content;
                messageDiv.appendChild(messageContent);
                messageDiv.appendChild(avatar);
            } else {
                // Bot mesajlarÄ±nda formatting
                const formattedContent = content
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/\n/g, '<br>')
                    .replace(/^(\d+\.)/gm, '<br><strong>$1</strong>')
                    .replace(/^(â€¢)/gm, '<br>$1');
                messageContent.innerHTML = formattedContent;
                messageDiv.appendChild(avatar);
                messageDiv.appendChild(messageContent);
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showTypingIndicator() {
            document.getElementById('typingIndicator').style.display = 'flex';
            document.getElementById('sendBtn').disabled = true;
        }

        function hideTypingIndicator() {
            document.getElementById('typingIndicator').style.display = 'none';
            document.getElementById('sendBtn').disabled = false;
        }

        async function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message === '') return;

            // KullanÄ±cÄ± mesajÄ±nÄ± ekle
            addMessage(message, true);
            conversationHistory.push({ role: 'user', content: message });
            
            input.value = '';
            showTypingIndicator();

            try {
                // AI'dan cevap al
                const response = await callAI(message);
                
                setTimeout(() => {
                    hideTypingIndicator();
                    addMessage(response, false);
                    conversationHistory.push({ role: 'assistant', content: response });
                    
                    // KonuÅŸma geÃ§miÅŸini sÄ±nÄ±rla
                    if (conversationHistory.length > 20) {
                        conversationHistory = conversationHistory.slice(-20);
                    }
                }, Math.random() * 1000 + 500); // Realistic thinking time
                
            } catch (error) {
                hideTypingIndicator();
                addMessage(`âŒ **Bir hata oluÅŸtu:** ${error.message}

ğŸ”§ **Ã‡Ã¶zÃ¼m Ã¶nerileri:**
â€¢ API anahtarÄ±nÄ±zÄ± kontrol edin
â€¢ Ä°nternet baÄŸlantÄ±nÄ±zÄ± kontrol edin  
â€¢ Yerel AkÄ±llÄ± Mod'u deneyin
â€¢ FarklÄ± AI modeli seÃ§in

Yine de size yardÄ±mcÄ± olmaya devam edebilirim! ğŸ¤–`, false);
                console.error('AI HatasÄ±:', error);
            }
        }

        function sendSuggestion(suggestion) {
            document.getElementById('messageInput').value = suggestion;
            sendMessage();
        }

        // Enter tuÅŸu ile mesaj gÃ¶nderme
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Sayfa yÃ¼klendiÄŸinde
        document.addEventListener('DOMContentLoaded', function() {
            updateAIModel();
            updateStatus('ready', 'HazÄ±r');
            
            // HoÅŸ geldin mesajÄ±
            setTimeout(() => {
                if (document.querySelector('.welcome-message')) {
                    addMessage(`ğŸ¤– **Merhaba! Ben geliÅŸmiÅŸ AI DonanÄ±m Destek AsistanÄ±nÄ±zÄ±m.**

**NasÄ±l Ã§alÄ±ÅŸÄ±yorum:**
â€¢ ğŸ§  GerÃ§ek AI modelleri kullanÄ±yorum (Groq, OpenAI, Cohere)
â€¢ ğŸ’¡ API olmadan da akÄ±llÄ± yerel Ã§Ã¶zÃ¼mler sunuyorum
â€¢ ğŸ”§ TÃ¼m donanÄ±m sorunlarÄ±nda uzman yardÄ±mÄ± veriyorum

**HÄ±zlÄ± baÅŸlangÄ±Ã§:**
1. âš¡ Groq seÃ§ili (Ã¶nerilen - hÄ±zlÄ± ve Ã¼cretsiz)
2. ğŸ”‘ groq.com'dan Ã¼cretsiz API anahtarÄ± alÄ±n
3. ğŸ”§ Sorununuzu detaylÄ± anlatÄ±n

**API olmadan da kullanabilirsiniz!** Yerel AkÄ±llÄ± Mod'da binlerce donanÄ±m sorunu Ã§Ã¶zÃ¼mÃ¼ var.

Hangi konuda yardÄ±ma ihtiyacÄ±nÄ±z var? ğŸš€`, false);
                }
            }, 1500);
        });
    </script>
</body>
</html>